import{r as h,a as Ne,R as _e}from"./vendor-wGySg1uH.js";import{m as u,A as D}from"./motion-AaAnZByc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const j of i.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&n(j)}).observe(document,{childList:!0,subtree:!0});function c(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=c(r);fetch(r.href,i)}})();var ge={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=h,Ce=Symbol.for("react.element"),Me=Symbol.for("react.fragment"),Se=Object.prototype.hasOwnProperty,De=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Te={key:!0,ref:!0,__self:!0,__source:!0};function fe(s,t,c){var n,r={},i=null,j=null;c!==void 0&&(i=""+c),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(j=t.ref);for(n in t)Se.call(t,n)&&!Te.hasOwnProperty(n)&&(r[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Ce,type:s,key:i,ref:j,props:r,_owner:De.current}}B.Fragment=Me;B.jsx=fe;B.jsxs=fe;ge.exports=B;var e=ge.exports,Z={},ie=Ne;Z.createRoot=ie.createRoot,Z.hydrateRoot=ie.hydrateRoot;const pe=[{id:1,name:"äººåƒ",effect:"å¤§è£œå…ƒæ°£",season:"å†¬"},{id:2,name:"é»ƒè€†",effect:"è£œæ°£å›ºè¡¨",season:"å†¬"},{id:3,name:"é»¨åƒ",effect:"è£œä¸­ç›Šæ°£",season:"å†¬"},{id:4,name:"ç™½æœ®",effect:"å¥è„¾ç›Šæ°£",season:"å†¬"},{id:5,name:"èŒ¯è‹“",effect:"å¥è„¾å¯§å¿ƒ",season:"å†¬"},{id:6,name:"å±±è—¥",effect:"è£œè„¾é¤Šèƒƒ",season:"å†¬"},{id:7,name:"ç”˜è‰",effect:"èª¿å’Œè«¸è—¥",season:"å†¬"},{id:8,name:"å¤§æ£—",effect:"è£œä¸­ç›Šæ°£",season:"å†¬"},{id:9,name:"ç´…æ£—",effect:"é¤Šè¡€å®‰ç¥",season:"å†¬"},{id:10,name:"èœ‚èœœ",effect:"è£œä¸­æ½¤ç‡¥",season:"å†¬"},{id:11,name:"é¾éª¨",effect:"é®éœå®‰ç¥",season:"å†¬"},{id:12,name:"ç‰¡è £",effect:"æ”¶æ–‚å›ºæ¾€",season:"å†¬"},{id:13,name:"ç£çŸ³",effect:"é®å¿ƒå®‰ç¥",season:"å†¬"},{id:14,name:"ç¥ç€",effect:"å®‰ç¥å®šå¿—",season:"å†¬"},{id:15,name:"ç•¶æ­¸",effect:"è£œè¡€æ´»è¡€",season:"æ˜¥"},{id:16,name:"ç™½èŠ",effect:"é¤Šè¡€æŸ”è‚",season:"æ˜¥"},{id:17,name:"å·èŠ",effect:"è¡Œæ°£æ´»è¡€",season:"æ˜¥"},{id:18,name:"ä¸¹åƒ",effect:"æ´»è¡€é¤Šå¿ƒ",season:"æ˜¥"},{id:19,name:"ç´…èŠ±",effect:"æ´»è¡€ç¥›ç˜€",season:"æ˜¥"},{id:20,name:"æ¡ƒä»",effect:"æ´»è¡€ç¥›ç˜€",season:"æ˜¥"},{id:21,name:"ç›Šæ¯è‰",effect:"æ´»è¡€èª¿ç¶“",season:"æ˜¥"},{id:22,name:"é›è¡€è—¤",effect:"è£œè¡€æ´»çµ¡",season:"æ˜¥"},{id:23,name:"ä¸‰ä¸ƒ",effect:"åŒ–ç˜€æ­¢è¡€",season:"æ˜¥"},{id:24,name:"å»¶èƒ¡ç´¢",effect:"æ´»è¡€æ­¢ç—›",season:"æ˜¥"},{id:25,name:"é¬±é‡‘",effect:"è¡Œæ°£è§£é¬±",season:"æ˜¥"},{id:26,name:"è–‘é»ƒ",effect:"æ´»è¡€è¡Œæ°£",season:"æ˜¥"},{id:27,name:"é¦™é™„",effect:"ç†æ°£è§£é¬±",season:"æ˜¥"},{id:28,name:"æ¸æ",effect:"æ»‹è£œè‚è…",season:"æ˜¥"},{id:29,name:"è–„è·",effect:"ç–æ•£é¢¨ç†±",season:"å¤"},{id:30,name:"èŠèŠ±",effect:"æ¸…ç†±æ˜ç›®",season:"å¤"},{id:31,name:"è‰¾è‰",effect:"æº«ç¶“æ­¢è¡€",season:"å¤"},{id:32,name:"èŒµé™³",effect:"æ¸…åˆ©æ¿•ç†±",season:"å¤"},{id:33,name:"é‡‘éŒ¢è‰",effect:"æ¸…ç†±åˆ©æ¿•",season:"å¤"},{id:34,name:"è»Šå‰è‰",effect:"æ¸…ç†±åˆ©å°¿",season:"å¤"},{id:35,name:"æ¾¤ç€‰",effect:"åˆ©æ°´æ»²æ¿•",season:"å¤"},{id:36,name:"æ»‘çŸ³",effect:"æ¸…ç†±åˆ©æ¿•",season:"å¤"},{id:37,name:"é€šè‰",effect:"æ¸…ç†±åˆ©æ°´",season:"å¤"},{id:38,name:"è–è‹¡ä»",effect:"å¥è„¾ç¥›æ¿•",season:"å¤"},{id:39,name:"é¾çœ¼è‚‰",effect:"é¤Šè¡€å®‰ç¥",season:"å¤"},{id:40,name:"é…¸æ£—ä»",effect:"å®‰ç¥åŠ©çœ ",season:"å¤"},{id:41,name:"é å¿—",effect:"é–‹å¿ƒç›Šæ™º",season:"å¤"},{id:42,name:"æŸå­ä»",effect:"é¤Šå¿ƒå®‰ç¥",season:"å¤"},{id:43,name:"åœ°é»ƒ",effect:"æ»‹é™°é¤Šè¡€",season:"ç§‹"},{id:44,name:"é˜¿è† ",effect:"è£œè¡€æ»‹é™°",season:"ç§‹"},{id:45,name:"ä½•é¦–çƒ",effect:"è£œè‚è…ç›Šç²¾è¡€",season:"ç§‹"},{id:46,name:"æ¡‘æ¤¹",effect:"æ»‹é™°è£œè¡€",season:"ç§‹"},{id:47,name:"åˆæ­¡çš®",effect:"è§£é¬±å®‰ç¥",season:"ç§‹"},{id:48,name:"å¤œäº¤è—¤",effect:"é¤Šè¡€å®‰ç¥",season:"ç§‹"},{id:49,name:"çç æ¯",effect:"å®‰ç¥å®šé©š",season:"ç§‹"},{id:50,name:"é™³çš®",effect:"ç†æ°£å¥è„¾",season:"ç§‹"},{id:51,name:"é’çš®",effect:"ç–è‚ç ´æ°£",season:"ç§‹"},{id:52,name:"æ³å¯¦",effect:"ç ´æ°£æ¶ˆç©",season:"ç§‹"},{id:53,name:"æœ¨é¦™",effect:"è¡Œæ°£æ­¢ç—›",season:"ç§‹"},{id:54,name:"çƒè—¥",effect:"é †æ°£æ­¢ç—›",season:"ç§‹"},{id:55,name:"æ²‰é¦™",effect:"è¡Œæ°£æ­¢ç—›",season:"ç§‹"},{id:56,name:"æª€é¦™",effect:"ç†æ°£å’Œèƒƒ",season:"ç§‹"}],ye={äººåƒ:"./herbs/04_ginseng.png",é»ƒè€†:"./herbs/02_astragalus.png",é»¨åƒ:"./herbs/09_codonopsis.png",ç™½æœ®:"./herbs/10_atractylodes.png",èŒ¯è‹“:"./herbs/53_poria.png",å±±è—¥:"./herbs/11_chinese-yam.png",ç”˜è‰:"./herbs/06_licorice.png",å¤§æ£—:"./herbs/12_jujube.png",ç´…æ£—:"./herbs/14_red-date.png",èœ‚èœœ:"./herbs/13_honey.png",é¾éª¨:"./herbs/26_dragon-bone.png",ç‰¡è £:"./herbs/27_oyster-shell.png",ç£çŸ³:"./herbs/29_magnetite.png",ç¥ç€:"./herbs/30_amber.png",ç•¶æ­¸:"./herbs/07_angelica.png",ç™½èŠ:"./herbs/16_white-peony.png",å·èŠ:"./herbs/39_sichuan-lovage.png",ä¸¹åƒ:"./herbs/40_red-sage.png",ç´…èŠ±:"./herbs/41_safflower.png",æ¡ƒä»:"./herbs/42_peach-kernel.png",ç›Šæ¯è‰:"./herbs/44_motherwort.png",é›è¡€è—¤:"./herbs/45_spatholobus.png",ä¸‰ä¸ƒ:"./herbs/43_notoginseng.png",å»¶èƒ¡ç´¢:"./herbs/46_corydalis.png",é¬±é‡‘:"./herbs/47_curcuma.png",è–‘é»ƒ:"./herbs/48_turmeric.png",é¦™é™„:"./herbs/35_cyperus.png",æ¸æ:"./herbs/01_goji.png",è–„è·:"./herbs/08_mint.png",èŠèŠ±:"./herbs/05_chrysanthemum.png",è‰¾è‰:"./herbs/03_mugwort.png",èŒµé™³:"./herbs/49_artemisia.png",é‡‘éŒ¢è‰:"./herbs/50_lysimachia.png",è»Šå‰è‰:"./herbs/51_plantain.png",æ¾¤ç€‰:"./herbs/52_alisma.png",æ»‘çŸ³:"./herbs/55_talc.png",é€šè‰:"./herbs/56_tetrapanax.png",è–è‹¡ä»:"./herbs/54_coix-seed.png",é¾çœ¼è‚‰:"./herbs/18_longan.png",é…¸æ£—ä»:"./herbs/21_sour-jujube-seed.png",é å¿—:"./herbs/23_polygala.png",æŸå­ä»:"./herbs/22_biota-seed.png",åœ°é»ƒ:"./herbs/15_rehmannia.png",é˜¿è† :"./herbs/17_ejiao.png",ä½•é¦–çƒ:"./herbs/19_fo-ti.png",æ¡‘æ¤¹:"./herbs/20_mulberry.png",åˆæ­¡çš®:"./herbs/24_silk-tree-bark.png",å¤œäº¤è—¤:"./herbs/25_polygonum-vine.png",çç æ¯:"./herbs/28_mother-of-pearl.png",é™³çš®:"./herbs/31_tangerine-peel.png",é’çš®:"./herbs/32_green-tangerine-peel.png",æ³å¯¦:"./herbs/33_immature-bitter-orange.png",æœ¨é¦™:"./herbs/34_costus-root.png",çƒè—¥:"./herbs/36_lindera.png",æ²‰é¦™:"./herbs/37_agarwood.png",æª€é¦™:"./herbs/38_sandalwood.png"},I=[{name:"å°å¯’",date:"2026-01-05",season:"å†¬"},{name:"å¤§å¯’",date:"2026-01-20",season:"å†¬"},{name:"ç«‹æ˜¥",date:"2026-02-04",season:"æ˜¥"},{name:"é›¨æ°´",date:"2026-02-19",season:"æ˜¥"},{name:"é©šèŸ„",date:"2026-03-05",season:"æ˜¥"},{name:"æ˜¥åˆ†",date:"2026-03-20",season:"æ˜¥"},{name:"æ¸…æ˜",date:"2026-04-04",season:"æ˜¥"},{name:"ç©€é›¨",date:"2026-04-20",season:"æ˜¥"},{name:"ç«‹å¤",date:"2026-05-05",season:"å¤"},{name:"å°æ»¿",date:"2026-05-21",season:"å¤"},{name:"èŠ’ç¨®",date:"2026-06-05",season:"å¤"},{name:"å¤è‡³",date:"2026-06-21",season:"å¤"},{name:"å°æš‘",date:"2026-07-07",season:"å¤"},{name:"å¤§æš‘",date:"2026-07-22",season:"å¤"},{name:"ç«‹ç§‹",date:"2026-08-07",season:"ç§‹"},{name:"è™•æš‘",date:"2026-08-23",season:"ç§‹"},{name:"ç™½éœ²",date:"2026-09-07",season:"ç§‹"},{name:"ç§‹åˆ†",date:"2026-09-23",season:"ç§‹"},{name:"å¯’éœ²",date:"2026-10-08",season:"ç§‹"},{name:"éœœé™",date:"2026-10-23",season:"ç§‹"},{name:"ç«‹å†¬",date:"2026-11-07",season:"å†¬"},{name:"å°é›ª",date:"2026-11-22",season:"å†¬"},{name:"å¤§é›ª",date:"2026-12-07",season:"å†¬"},{name:"å†¬è‡³",date:"2026-12-21",season:"å†¬"}],$e={å°å¯’:"./solar-terms/23_xiaohan.png",å¤§å¯’:"./solar-terms/24_dahan.png",ç«‹æ˜¥:"./solar-terms/01_lichun.png",é›¨æ°´:"./solar-terms/02_yushui.png",é©šèŸ„:"./solar-terms/03_jingzhe.png",æ˜¥åˆ†:"./solar-terms/04_chunfen.png",æ¸…æ˜:"./solar-terms/05_qingming.png",ç©€é›¨:"./solar-terms/06_guyu.png",ç«‹å¤:"./solar-terms/07_lixia.png",å°æ»¿:"./solar-terms/08_xiaoman.png",èŠ’ç¨®:"./solar-terms/09_mangzhong.png",å¤è‡³:"./solar-terms/10_xiazhi.png",å°æš‘:"./solar-terms/11_xiaoshu.png",å¤§æš‘:"./solar-terms/12_dashu.png",ç«‹ç§‹:"./solar-terms/13_liqiu.png",è™•æš‘:"./solar-terms/14_chushu.png",ç™½éœ²:"./solar-terms/15_bailu.png",ç§‹åˆ†:"./solar-terms/16_qiufen.png",å¯’éœ²:"./solar-terms/17_hanlu.png",éœœé™:"./solar-terms/18_shuangjiang.png",ç«‹å†¬:"./solar-terms/19_lidong.png",å°é›ª:"./solar-terms/20_xiaoxue.png",å¤§é›ª:"./solar-terms/21_daxue.png",å†¬è‡³:"./solar-terms/22_dongzhi.png"},Ee={å°å¯’:{theme:"è—ç²¾é¤Šè…",color:"#4A5568"},å¤§å¯’:{theme:"æº«è£œç¦¦å¯’",color:"#2D3748"},ç«‹æ˜¥:{theme:"å‡ç™¼é™½æ°£",color:"#68D391"},é›¨æ°´:{theme:"èª¿é¤Šè„¾èƒƒ",color:"#9AE6B4"},é©šèŸ„:{theme:"ç–è‚ç†æ°£",color:"#48BB78"},æ˜¥åˆ†:{theme:"å¹³èª¿é™°é™½",color:"#38A169"},æ¸…æ˜:{theme:"æŸ”è‚é¤Šè‚º",color:"#2F855A"},ç©€é›¨:{theme:"å¥è„¾ç¥›æ¿•",color:"#276749"},ç«‹å¤:{theme:"é¤Šå¿ƒå®‰ç¥",color:"#FC8181"},å°æ»¿:{theme:"æ¸…ç†±åˆ©æ¿•",color:"#F56565"},èŠ’ç¨®:{theme:"æ¸…æš‘ç›Šæ°£",color:"#E53E3E"},å¤è‡³:{theme:"é¤Šé™°ç”Ÿæ´¥",color:"#C53030"},å°æš‘:{theme:"æ¶ˆæš‘å¯§å¿ƒ",color:"#9B2C2C"},å¤§æš‘:{theme:"æ¸…ç†±è§£æš‘",color:"#822727"},ç«‹ç§‹:{theme:"é¤Šé™°æ½¤ç‡¥",color:"#ED8936"},è™•æš‘:{theme:"æ»‹é™°æ½¤è‚º",color:"#DD6B20"},ç™½éœ²:{theme:"é¤Šè‚ºé˜²ç‡¥",color:"#C05621"},ç§‹åˆ†:{theme:"å¹³è£œé™°é™½",color:"#9C4221"},å¯’éœ²:{theme:"é¤Šé™°é˜²ç‡¥",color:"#7B341E"},éœœé™:{theme:"é¤Šè‚ºæ½¤ç‡¥",color:"#652B19"},ç«‹å†¬:{theme:"æ»‹é™°è£œè…",color:"#63B3ED"},å°é›ª:{theme:"æº«è…åŠ©é™½",color:"#4299E1"},å¤§é›ª:{theme:"æº«è£œå¼·èº«",color:"#3182CE"},å†¬è‡³:{theme:"é¤Šè—å›ºæœ¬",color:"#2B6CB0"}},re={æ˜¥:{primary:"#48BB78",secondary:"#9AE6B4",bg:"from-green-50 to-emerald-100"},å¤:{primary:"#F56565",secondary:"#FC8181",bg:"from-red-50 to-orange-100"},ç§‹:{primary:"#ED8936",secondary:"#F6AD55",bg:"from-orange-50 to-amber-100"},å†¬:{primary:"#4299E1",secondary:"#63B3ED",bg:"from-blue-50 to-cyan-100"}};function O(s){const t=new Date(2026,0,1),c=new Date(s),r=(Math.floor((c-t)/(1e3*60*60*24))+1-1)%54;return pe[r]}function R(s){const t=new Date(s);let c={name:"å†¬è‡³",date:"2025-12-22",season:"å†¬"};for(let n=0;n<I.length;n++){const r=new Date(I[n].date);if(t>=r)c=I[n];else break}return c}function be(s){return Ee[s]||{theme:"èª¿å’Œèº«å¿ƒ",color:"#718096"}}function Pe(s){return re[s]||re.æ˜¥}function Le(s,t){const c=be(t.name);return`ä»Šæ—¥è—¥æï¼š${s.name}
åŠŸæ•ˆï¼š${s.effect}

ç¯€æ°£ï¼š${t.name}
é¤Šç”Ÿä¸»é¡Œï¼š${c.theme}

å†¥æƒ³å¼•å°ï¼š
é–‰ä¸Šçœ¼ç›ï¼Œæ·±å‘¼å¸ä¸‰æ¬¡ã€‚
æƒ³åƒ${s.name}çš„èƒ½é‡ç·©ç·©æµå…¥é«”å…§ï¼Œ
${s.effect}ï¼Œæ»‹é¤Šèº«å¿ƒã€‚
åœ¨é€™${t.name}æ™‚ç¯€ï¼Œ
è®“æˆ‘å€‘${c.theme}ï¼Œèˆ‡è‡ªç„¶å’Œè«§å…±è™•ã€‚
ä¿æŒé€™ä»½å¯§éœï¼Œæ„Ÿå—å…§åœ¨çš„å¹³å’Œã€‚`}const Ae={äººåƒ:"./meditations/meditation_01_renshen.mp3",é»ƒè€†:"./meditations/meditation_02_huangqi.mp3",é»¨åƒ:"./meditations/meditation_03_dangshen.mp3",ç™½æœ®:"./meditations/meditation_04_baizhu.mp3",èŒ¯è‹“:"./meditations/meditation_05_fuling.mp3",å±±è—¥:"./meditations/meditation_06_shanyao.mp3",ç”˜è‰:"./meditations/meditation_07_gancao.mp3",å¤§æ£—:"./meditations/meditation_08_dazao.mp3",ç´…æ£—:"./meditations/meditation_09_hongzao.mp3",èœ‚èœœ:"./meditations/meditation_10_fengmi.mp3",é¾éª¨:"./meditations/meditation_11_longgu.mp3",ç‰¡è £:"./meditations/meditation_12_muli.mp3",ç£çŸ³:"./meditations/meditation_13_cishi.mp3",ç¥ç€:"./meditations/meditation_14_hupo.mp3",ç•¶æ­¸:"./meditations/meditation_15_danggui.mp3",ç™½èŠ:"./meditations/meditation_16_baishao.mp3",å·èŠ:"./meditations/meditation_17_chuanxiong.mp3",ä¸¹åƒ:"./meditations/meditation_18_danshen.mp3",ç´…èŠ±:"./meditations/meditation_19_honghua.mp3",æ¡ƒä»:"./meditations/meditation_20_taoren.mp3",ç›Šæ¯è‰:"./meditations/meditation_21_yimucao.mp3",é›è¡€è—¤:"./meditations/meditation_22_jixueteng.mp3",ä¸‰ä¸ƒ:"./meditations/meditation_23_sanqi.mp3",å»¶èƒ¡ç´¢:"./meditations/meditation_24_yanhusuo.mp3",é¬±é‡‘:"./meditations/meditation_25_yujin.mp3",è–‘é»ƒ:"./meditations/meditation_26_jianghuang.mp3",é¦™é™„:"./meditations/meditation_27_xiangfu.mp3",æ¸æ:"./meditations/meditation_28_gouqi.mp3",è–„è·:"./meditations/meditation_29_bohe.mp3",èŠèŠ±:"./meditations/meditation_30_juhua.mp3",è‰¾è‰:"./meditations/meditation_31_aicao.mp3",èŒµé™³:"./meditations/meditation_32_yinchen.mp3",é‡‘éŒ¢è‰:"./meditations/meditation_33_jinqiancao.mp3",è»Šå‰è‰:"./meditations/meditation_34_cheqiancao.mp3",æ¾¤ç€‰:"./meditations/meditation_35_zexie.mp3",æ»‘çŸ³:"./meditations/meditation_36_huashi.mp3",é€šè‰:"./meditations/meditation_37_tongcao.mp3",è–è‹¡ä»:"./meditations/meditation_38_yiyiren.mp3",é¾çœ¼è‚‰:"./meditations/meditation_39_longyanrou.mp3",é…¸æ£—ä»:"./meditations/meditation_40_suanzaoren.mp3",é å¿—:"./meditations/meditation_41_yuanzhi.mp3",æŸå­ä»:"./meditations/meditation_42_baiziren.mp3",åœ°é»ƒ:"./meditations/meditation_43_dihuang.mp3",é˜¿è† :"./meditations/meditation_44_ejiao.mp3",ä½•é¦–çƒ:"./meditations/meditation_45_heshouwu.mp3",æ¡‘æ¤¹:"./meditations/meditation_46_sangshen.mp3",åˆæ­¡çš®:"./meditations/meditation_47_hehuanpi.mp3",å¤œäº¤è—¤:"./meditations/meditation_48_yejiaoteng.mp3",çç æ¯:"./meditations/meditation_49_zhenzhumu.mp3",é™³çš®:"./meditations/meditation_50_chenpi.mp3",é’çš®:"./meditations/meditation_51_qingpi.mp3",æ³å¯¦:"./meditations/meditation_52_zhishi.mp3",æœ¨é¦™:"./meditations/meditation_53_muxiang.mp3",çƒè—¥:"./meditations/meditation_54_wuyao.mp3"};function Ie(s=new Date){const[t,c]=h.useState(s),[n,r]=h.useState(s),i=h.useMemo(()=>{const x=O(n),p=R(n),a=be(p.name),g=Pe(p.season),b=Le(x,p);return{date:n,herb:x,solarTerm:p,theme:a,seasonColor:g,meditation:b,dayOfYear:Math.floor((n-new Date(2026,0,1))/(1e3*60*60*24))+1}},[n]),j=h.useMemo(()=>{const x=n.getFullYear(),p=n.getMonth(),a=new Date(x,p,1),g=new Date(x,p+1,0),b=a.getDay(),v=[];for(let N=b-1;N>=0;N--){const _=new Date(x,p,-N);v.push({date:_,isCurrentMonth:!1,herb:O(_),solarTerm:R(_)})}for(let N=1;N<=g.getDate();N++){const _=new Date(x,p,N);v.push({date:_,isCurrentMonth:!0,herb:O(_),solarTerm:R(_),isToday:oe(_,new Date),isSelected:oe(_,n)})}const k=42-v.length;for(let N=1;N<=k;N++){const _=new Date(x,p+1,N);v.push({date:_,isCurrentMonth:!1,herb:O(_),solarTerm:R(_)})}return v},[n]),l=()=>r(new Date),d=()=>r(new Date(n.getFullYear(),n.getMonth()-1,1)),y=()=>r(new Date(n.getFullYear(),n.getMonth()+1,1)),o=x=>r(x),m=h.useMemo(()=>{const x=n.getFullYear(),p=n.getMonth();return I.filter(a=>{const g=new Date(a.date);return g.getFullYear()===x&&g.getMonth()===p})},[n]);return{currentDate:t,selectedDate:n,todayInfo:i,calendarDays:j,monthSolarTerms:m,goToToday:l,goToPrevMonth:d,goToNextMonth:y,selectDate:o,herbsDatabase:pe,solarTerms:I}}function oe(s,t){return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()}function He({season:s,solarTerm:t}){const c={æ˜¥:"from-green-600 to-emerald-500",å¤:"from-red-500 to-orange-500",ç§‹:"from-orange-500 to-amber-500",å†¬:"from-blue-600 to-cyan-500"};return e.jsx(u.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:`sticky top-0 z-50 bg-gradient-to-r ${c[s]||c.æ˜¥} text-white shadow-lg`,children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u.div,{whileHover:{scale:1.05},transition:{duration:.3},className:"w-12 h-12 rounded-full overflow-hidden shadow-md",children:e.jsx("img",{src:"./logo/logo_main_white_bg.png",alt:"ä¸­è—¥æ­£å¿µæ—¥æ›†",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-serif font-bold tracking-wide",children:"ä¸­è—¥æ­£å¿µæ—¥æ›†"}),e.jsx("p",{className:"text-xs text-white/80",children:"TCM Mindfulness Calendar"})]})]}),t&&e.jsxs(u.div,{initial:{scale:.8},animate:{scale:1},className:"flex items-center gap-2 bg-white/20 rounded-full px-3 py-1 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm font-medium",children:t.name}),e.jsxs("span",{className:"text-xs text-white/70",children:[t.season,"å­£"]})]})]})})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),w=(s,t)=>{const c=h.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:j,className:l="",children:d,...y},o)=>h.createElement("svg",{ref:o,...Fe,width:r,height:r,stroke:n,strokeWidth:j?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Oe(s)}`,l].join(" "),...y},[...t.map(([m,x])=>h.createElement(m,x)),...Array.isArray(d)?d:[d]]));return c.displayName=`${s}`,c};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=w("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=w("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=w("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=w("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=w("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=w("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=w("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=w("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=w("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=w("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=w("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=w("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=w("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=w("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=w("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=w("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=w("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=w("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=w("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=w("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=w("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=w("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=w("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=w("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=w("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),nt=({herbName:s,audioSrc:t,herbEffect:c,seasonColor:n={primary:"#6B8E6B",secondary:"#C4A484"},onComplete:r=null})=>{var te;const i=h.useRef(null),j=h.useRef(null),[l,d]=h.useState(!1),[y,o]=h.useState(0),[m,x]=h.useState(0),[p,a]=h.useState(.8),[g,b]=h.useState(!1),[v,k]=h.useState(!0),[N,_]=h.useState(null),[H,P]=h.useState(!1),F=h.useCallback(f=>{if(isNaN(f)||f===1/0)return"0:00";const C=Math.floor(f/60),$=Math.floor(f%60);return`${C}:${$.toString().padStart(2,"0")}`},[]),T=h.useCallback(()=>{!i.current||v||N||(l?(i.current.pause(),d(!1)):i.current.play().then(()=>d(!0)).catch(f=>{console.error("æ’­æ”¾å¤±æ•—:",f),_("ç„¡æ³•æ’­æ”¾éŸ³é »ï¼Œè«‹é‡è©¦")}))},[l,v,N]),q=h.useCallback(()=>{i.current&&(i.current.currentTime=0,o(0),l||i.current.play().then(()=>d(!0)).catch(console.error))},[l]),L=h.useCallback(()=>{if(!i.current)return;const f=Math.max(0,i.current.currentTime-15);i.current.currentTime=f,o(f)},[]),M=h.useCallback(()=>{if(!i.current||!m)return;const f=Math.min(m,i.current.currentTime+15);i.current.currentTime=f,o(f)},[m]),S=h.useCallback(()=>{if(!i.current)return;const f=!g;i.current.muted=f,b(f)},[g]),V=h.useCallback(f=>{const C=parseFloat(f.target.value);a(C),i.current&&(i.current.volume=C,C===0?b(!0):g&&(b(!1),i.current.muted=!1))},[g]),U=h.useCallback(f=>{if(!i.current||!m||!j.current)return;const C=j.current.getBoundingClientRect(),$=f.clientX-C.left,A=Math.max(0,Math.min(1,$/C.width))*m;i.current.currentTime=A,o(A)},[m]);h.useEffect(()=>{const f=i.current;if(!f)return;const C=()=>{x(f.duration),k(!1),_(null)},$=()=>{o(f.currentTime)},Y=()=>{if(d(!1),o(0),r&&m>0){const W=Math.ceil(m/60);r(s,W)}},A=W=>{console.error("éŸ³é »éŒ¯èª¤:",W),_("éŸ³é »è¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£æ¥"),k(!1)},ae=()=>{k(!1),_(null)},se=()=>{k(!0)},ne=()=>{k(!1),d(!0)};return f.addEventListener("loadedmetadata",C),f.addEventListener("timeupdate",$),f.addEventListener("ended",Y),f.addEventListener("error",A),f.addEventListener("canplay",ae),f.addEventListener("waiting",se),f.addEventListener("playing",ne),f.volume=p,()=>{f.removeEventListener("loadedmetadata",C),f.removeEventListener("timeupdate",$),f.removeEventListener("ended",Y),f.removeEventListener("error",A),f.removeEventListener("canplay",ae),f.removeEventListener("waiting",se),f.removeEventListener("playing",ne)}},[t,p,r,s]),h.useEffect(()=>{i.current&&i.current.pause(),d(!1),o(0),x(0),k(!0),_(null)},[t]),h.useEffect(()=>{const f=C=>{if(C.target.tagName!=="INPUT")switch(C.code){case"Space":C.preventDefault(),T();break;case"ArrowLeft":L();break;case"ArrowRight":M();break;case"KeyM":S();break}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[T,L,M,S]);const ee=m>0?y/m*100:0;return t?e.jsxs("div",{className:"rounded-2xl p-5 shadow-lg border border-white/20",style:{background:`linear-gradient(135deg, ${n.primary}15, ${n.secondary}15)`},children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsxs("h3",{className:"text-xl font-serif font-bold text-gray-800 mb-1",children:[s,"ãƒ»è§€æƒ³å†¥æƒ³"]}),e.jsx("p",{className:"text-sm text-gray-600",children:c})]}),e.jsx("audio",{ref:i,src:t,preload:"metadata"}),e.jsxs("div",{className:"relative h-20 mb-4 rounded-xl overflow-hidden bg-white/30 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center gap-1",children:[...Array(30)].map((f,C)=>e.jsx("div",{className:"w-1 rounded-full transition-all duration-300",style:{height:l?`${20+Math.sin((y*2+C)*.5)*30+Math.random()*10}%`:"20%",backgroundColor:C<ee*.3?n.primary:`${n.secondary}40`,transition:l?"height 0.1s ease":"height 0.5s ease"}},C))}),v&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:j,className:"h-2 bg-gray-200/50 rounded-full mb-2 cursor-pointer overflow-hidden group",onClick:U,children:e.jsx("div",{className:"h-full rounded-full transition-all duration-100 relative",style:{width:`${ee}%`,background:`linear-gradient(90deg, ${n.primary}, ${n.secondary})`},children:e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-white shadow-md opacity-0 group-hover:opacity-100 transition-opacity",style:{transform:"translate(50%, -50%)"}})})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-5 px-1",children:[e.jsx("span",{className:"font-mono",children:F(y)}),e.jsx("span",{className:"font-mono",children:F(m)})]}),N&&e.jsx("div",{className:"text-center text-red-500 text-sm mb-4 p-2 bg-red-50 rounded-lg",children:N}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{onClick:L,className:"p-2.5 rounded-full hover:bg-white/50 transition-all active:scale-95",title:"å¿«é€€15ç§’",disabled:v,children:e.jsx(et,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:q,className:"p-2.5 rounded-full hover:bg-white/50 transition-all active:scale-95",title:"é‡æ–°é–‹å§‹",disabled:v,children:e.jsx(je,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:T,className:"w-16 h-16 rounded-full shadow-xl flex items-center justify-center transition-all active:scale-95 disabled:opacity-50",style:{background:`linear-gradient(135deg, ${n.primary}, ${n.secondary})`},disabled:v&&!((te=i.current)!=null&&te.readyState),title:l?"æš«åœ (ç©ºç™½éµ)":"æ’­æ”¾ (ç©ºç™½éµ)",children:l?e.jsx(Ze,{className:"w-7 h-7 text-white"}):e.jsx(Ke,{className:"w-7 h-7 text-white ml-1"})}),e.jsx("button",{onClick:M,className:"p-2.5 rounded-full hover:bg-white/50 transition-all active:scale-95",title:"å¿«é€²15ç§’",disabled:v,children:e.jsx(tt,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:S,onMouseEnter:()=>P(!0),className:"p-2.5 rounded-full hover:bg-white/50 transition-all active:scale-95",title:g?"å–æ¶ˆéœéŸ³ (M)":"éœéŸ³ (M)",disabled:v,children:g||p===0?e.jsx(st,{className:"w-5 h-5 text-gray-600"}):e.jsx(de,{className:"w-5 h-5 text-gray-600"})}),H&&e.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-3 bg-white rounded-xl shadow-lg",onMouseLeave:()=>P(!1),children:e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:g?0:p,onChange:V,className:"w-24 h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${n.primary} ${p*100}%, #e5e7eb ${p*100}%)`}})})]})]}),e.jsxs("div",{className:"text-center mt-5 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"æ‰¾ä¸€å€‹å®‰éœçš„åœ°æ–¹ï¼Œé–‹å§‹æ‚¨çš„å†¥æƒ³ä¹‹æ—…"}),e.jsx("p",{className:"text-xs text-gray-300",children:"å¿«æ·éµï¼šç©ºç™½éµ æ’­æ”¾/æš«åœ | â† â†’ å¿«é€€/å¿«é€² | M éœéŸ³"})]})]}):e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(de,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"æ­¤è‰è—¥çš„å†¥æƒ³éŸ³é »å°šæœªæä¾›"})]})},he="tcm_mindfulness_stats",X=()=>({totalMeditations:0,totalMinutes:0,currentStreak:0,longestStreak:0,lastMeditationDate:null,collectedHerbs:[],favoriteHerbs:[],weeklyActivity:[0,0,0,0,0,0,0],monthlyMeditations:0,firstUseDate:null});function Q(){const[s,t]=h.useState(X);h.useEffect(()=>{try{const l=localStorage.getItem(he);if(l){const d=JSON.parse(l),y=d.lastMeditationDate?new Date(d.lastMeditationDate):null;y&&Math.floor((new Date-y)/864e5)>1&&(d.currentStreak=0),t({...X(),...d})}}catch(l){console.error("Failed to load stats:",l)}},[]);const c=h.useCallback(l=>{try{localStorage.setItem(he,JSON.stringify(l)),t(l)}catch(d){console.error("Failed to save stats:",d)}},[]),n=h.useCallback((l,d=5)=>{const y=new Date,o=y.toDateString(),m=y.getDay();t(x=>{const p=x.lastMeditationDate,a=p!==o;let g=x.currentStreak;if(a){const N=new Date(y);N.setDate(N.getDate()-1),p===N.toDateString()?g=x.currentStreak+1:g=1}const b=[...x.weeklyActivity];b[m]=(b[m]||0)+1;const v=x.collectedHerbs.includes(l)?x.collectedHerbs:[...x.collectedHerbs,l],k={...x,totalMeditations:x.totalMeditations+1,totalMinutes:x.totalMinutes+d,currentStreak:g,longestStreak:Math.max(x.longestStreak,g),lastMeditationDate:o,collectedHerbs:v,weeklyActivity:b,monthlyMeditations:x.monthlyMeditations+1,firstUseDate:x.firstUseDate||o};return c(k),k})},[c]),r=h.useCallback(()=>{const l=X();c(l)},[c]),i=h.useCallback(l=>{t(d=>{var x;const o=((x=d.favoriteHerbs)==null?void 0:x.includes(l))?d.favoriteHerbs.filter(p=>p!==l):[...d.favoriteHerbs||[],l],m={...d,favoriteHerbs:o};return c(m),m})},[c]),j=h.useCallback(l=>{var d;return((d=s.favoriteHerbs)==null?void 0:d.includes(l))||!1},[s.favoriteHerbs]);return{stats:s,recordMeditation:n,resetStats:r,toggleFavoriteHerb:i,isFavorite:j}}function it({isOpen:s,onClose:t,imageSrc:c,imageAlt:n,title:r,subtitle:i}){return s?e.jsx(D,{children:s&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center",onClick:t,children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative z-10 max-w-[90vw] max-h-[85vh] flex flex-col items-center",onClick:j=>j.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute -top-12 right-0 w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(ve,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl p-2",children:e.jsx("img",{src:c,alt:n,className:"max-w-[85vw] max-h-[70vh] object-contain rounded-xl"})}),(r||i)&&e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-4 text-center",children:[r&&e.jsx("h3",{className:"text-xl font-serif font-bold text-white mb-1",children:r}),i&&e.jsx("p",{className:"text-white/70 text-sm",children:i})]})]})]})}):null}const E={HERB:"herb",MEDITATION:"meditation"};function xe({type:s=E.HERB,herbName:t,herbEffect:c,herbImage:n,solarTermName:r,streakDays:i,className:j=""}){const[l,d]=h.useState(!1),[y,o]=h.useState(!1),m=()=>{const b="https://10wang-creat.github.io/tcm-mindfulness-calendar/";return s===E.MEDITATION?`ğŸ§˜ æˆ‘å‰›å®Œæˆäº†ä»Šæ—¥æ­£å¿µå†¥æƒ³ï¼

ğŸŒ¿ ä»Šæ—¥è—¥æï¼š${t}
âœ¨ åŠŸæ•ˆï¼š${c}
ğŸ”¥ é€£çºŒ ${i||1} å¤©ç·´ç¿’ä¸­

ä¸€èµ·ä¾†é«”é©—ä¸­è—¥æ­£å¿µæ—¥æ›†å§ï¼
${b}

#ä¸­è—¥æ­£å¿µ #å†¥æƒ³ #é¤Šç”Ÿ`:`ğŸŒ¿ ${t}

âœ¨ åŠŸæ•ˆï¼š${c}
ğŸ“… ç¯€æ°£ï¼š${r}

æ¢ç´¢æ›´å¤šå‚³çµ±ä¸­è—¥æ™ºæ…§ ğŸ‘‡
${b}

#ä¸­è—¥ #é¤Šç”Ÿ #å‚³çµ±é†«å­¸`},x=async()=>{try{await navigator.clipboard.writeText(m()),o(!0),setTimeout(()=>o(!1),2e3)}catch(b){console.error("è¤‡è£½å¤±æ•—:",b)}},p=async()=>{const b={title:s===E.MEDITATION?"æˆ‘å®Œæˆäº†ä»Šæ—¥æ­£å¿µå†¥æƒ³ï¼":`ä¸­è—¥åœ–é‘‘ï¼š${t}`,text:m(),url:"https://10wang-creat.github.io/tcm-mindfulness-calendar/"};try{navigator.share?await navigator.share(b):d(!0)}catch(v){v.name!=="AbortError"&&d(!0)}},a=()=>{const b=encodeURIComponent(m());window.open(`https://social-plugins.line.me/lineit/share?text=${b}`,"_blank")},g=()=>{const b=encodeURIComponent("https://10wang-creat.github.io/tcm-mindfulness-calendar/");window.open(`https://www.facebook.com/sharer/sharer.php?u=${b}`,"_blank")};return e.jsxs(e.Fragment,{children:[e.jsxs(u.button,{whileTap:{scale:.95},onClick:p,className:`flex items-center gap-1.5 px-3 py-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors ${j}`,children:[e.jsx(Qe,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"åˆ†äº«"})]}),e.jsx(D,{children:l&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:()=>d(!1),children:e.jsxs(u.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25},onClick:b=>b.stopPropagation(),className:"w-full max-w-md bg-white rounded-t-3xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"åˆ†äº«çµ¦æœ‹å‹"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(ve,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"bg-gradient-to-br from-sage-50 to-terracotta-50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsx("img",{src:n,alt:t,className:"w-16 h-16 rounded-lg object-contain bg-white/50"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:c}),s===E.MEDITATION&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"âœ… ä»Šæ—¥æ­£å¿µå·²å®Œæˆ"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("button",{onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Line"})]}),e.jsxs("button",{onClick:g,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Facebook"})]}),e.jsxs("button",{onClick:x,className:"flex flex-col items-center gap-2 p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${y?"bg-green-500":"bg-gray-400"}`,children:y?e.jsx(ze,{className:"w-6 h-6 text-white"}):e.jsx(Ue,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm text-gray-600",children:y?"å·²è¤‡è£½":"è¤‡è£½"})]})]}),e.jsx("button",{onClick:()=>d(!1),className:"w-full py-3 text-gray-500 font-medium",children:"å–æ¶ˆ"})]})})})]})}function rt({herbName:s,isFavorite:t,onToggle:c,size:n="normal",showLabel:r=!0,className:i=""}){const[j,l]=h.useState(!1),d=o=>{o.stopPropagation(),t||(l(!0),setTimeout(()=>l(!1),600)),c(s)},y=n==="small"?"w-8 h-8":"px-3 py-2";return e.jsxs(u.button,{whileTap:{scale:.9},onClick:d,className:`
        relative flex items-center gap-1.5 rounded-full transition-colors
        ${y}
        ${t?"bg-red-50 hover:bg-red-100":"bg-gray-100 hover:bg-gray-200"}
        ${i}
      `,children:[e.jsx(u.div,{animate:t?{scale:[1,1.3,1]}:{},transition:{duration:.3},children:e.jsx(K,{className:`w-4 h-4 transition-colors ${t?"text-red-500 fill-red-500":"text-gray-500"}`})}),r&&n!=="small"&&e.jsx("span",{className:`text-sm ${t?"text-red-600":"text-gray-600"}`,children:t?"å·²æ”¶è—":"æ”¶è—"}),e.jsx(D,{children:j&&e.jsx(e.Fragment,{children:[...Array(6)].map((o,m)=>e.jsx(u.div,{initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:1,x:Math.cos(m*60*Math.PI/180)*30,y:Math.sin(m*60*Math.PI/180)*30-10},exit:{opacity:0},transition:{duration:.5},className:"absolute pointer-events-none",children:e.jsx(K,{className:"w-3 h-3 text-red-400 fill-red-400"})},m))})})]})}const ue=s=>{const t=$e[s];return t?`./${t.replace(/^\.\//,"")}`:null},z=s=>{const t=ye[s];return t?`./${t.replace(/^\.\//,"")}`:null},ot=s=>{const t=Ae[s];return t?`./${t.replace(/^\.\//,"")}`:null};function lt({todayInfo:s,onOpenCalendar:t}){const[c,n]=h.useState(!1),[r,i]=h.useState(!1),[j,l]=h.useState(!1),[d,y]=h.useState({isOpen:!1,src:"",alt:"",title:"",subtitle:""}),{stats:o,recordMeditation:m,toggleFavoriteHerb:x,isFavorite:p}=Q(),{herb:a,solarTerm:g,theme:b,seasonColor:v,meditation:k,dayOfYear:N,date:_}=s,H=ot(a.name),P=o.lastMeditationDate===new Date().toDateString(),F=(M,S)=>{m(M,S),l(!0),setTimeout(()=>l(!1),3e3)},T=(M,S,V,U)=>{y({isOpen:!0,src:M,alt:S,title:V,subtitle:U})},q=()=>{y({...d,isOpen:!1})},L=M=>{const S={year:"numeric",month:"long",day:"numeric",weekday:"long"};return M.toLocaleDateString("zh-TW",S)};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-[calc(100vh-8rem)] flex flex-col",children:[e.jsx(D,{children:j&&e.jsxs(u.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 bg-green-500 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"å†¥æƒ³å®Œæˆï¼å·²è¨˜éŒ„åˆ°çµ±è¨ˆ"})]})}),P&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-4 mt-2 mb-2 bg-green-50 border border-green-200 rounded-xl px-4 py-2 flex items-center justify-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-700",children:"ä»Šæ—¥å†¥æƒ³å·²å®Œæˆ"})]}),e.jsxs("div",{className:"text-center py-6 px-4",children:[e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-gray-500 mb-1",children:["ç¬¬ ",N," å¤©"]}),e.jsx("h2",{className:"text-xl font-serif text-gray-800 mb-3",children:L(_)}),e.jsx(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"flex justify-center mb-3",children:e.jsxs("div",{className:"w-32 h-32 rounded-2xl overflow-hidden shadow-lg border-4 border-white bg-cream-50 cursor-pointer relative group",onClick:()=>T(ue(g.name),g.name,g.name,`${g.season}å­£ãƒ»${b.theme}`),children:[e.jsx("img",{src:ue(g.name),alt:g.name,className:"w-full h-full object-contain",onError:M=>{M.target.style.display="none",M.target.parentElement.innerHTML='<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-sage-50 to-sage-100 text-3xl">ğŸŒ±</div>'}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"absolute bottom-1 right-1 opacity-60 group-hover:opacity-100 transition-opacity bg-white/80 rounded-full p-1",children:e.jsx(me,{className:"w-3 h-3 text-gray-600"})})})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:b.color},children:g.name}),e.jsx("span",{className:"text-sm text-gray-600",children:b.theme})]})]}),e.jsxs(u.div,{className:"mx-4 bg-white rounded-2xl shadow-lg overflow-hidden",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{className:`h-56 bg-gradient-to-br ${v.bg} flex items-center justify-center relative overflow-hidden`,children:e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"w-44 h-44 rounded-2xl bg-white/50 backdrop-blur-sm flex items-center justify-center overflow-hidden shadow-lg border-4 border-white cursor-pointer relative group",onClick:()=>T(z(a.name),a.name,a.name,a.effect),children:[e.jsx("img",{src:z(a.name),alt:a.name,className:"w-full h-full object-contain p-2",onError:M=>{M.target.style.display="none",M.target.parentElement.innerHTML='<div class="w-full h-full flex items-center justify-center text-5xl">ğŸŒ¿</div>'}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"absolute bottom-2 right-2 opacity-60 group-hover:opacity-100 transition-opacity bg-white/80 rounded-full p-1.5",children:e.jsx(me,{className:"w-4 h-4 text-gray-600"})})})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-3xl font-serif font-bold text-gray-800 mb-1",children:a.name}),e.jsx("p",{className:"text-lg text-gray-600",children:a.effect})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(xe,{type:E.HERB,herbName:a.name,herbEffect:a.effect,herbImage:z(a.name),solarTermName:g.name}),e.jsx(rt,{herbName:a.name,isFavorite:p(a.name),onToggle:x}),P&&e.jsx(xe,{type:E.MEDITATION,herbName:a.name,herbEffect:a.effect,herbImage:z(a.name),solarTermName:g.name,streakDays:o.currentStreak,className:"bg-green-100 hover:bg-green-200"})]}),H&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-sage-50 to-terracotta-50 rounded-xl hover:from-sage-100 hover:to-terracotta-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-sage-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[a.name,"ãƒ»è§€æƒ³å†¥æƒ³éŸ³é »"]})]}),e.jsx(u.div,{animate:{rotate:r?180:0},children:e.jsx(ce,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx(D,{children:r&&e.jsx(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-4",children:e.jsx(nt,{herbName:a.name,audioSrc:H,herbEffect:a.effect,seasonColor:v,onComplete:F})})})})]}),e.jsxs(u.div,{className:"bg-gray-50 rounded-xl p-4 cursor-pointer",onClick:()=>n(!c),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"ä»Šæ—¥å†¥æƒ³"}),e.jsx(u.div,{animate:{rotate:c?180:0},children:e.jsx(ce,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx(D,{mode:"wait",children:c?e.jsx(u.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-gray-700 whitespace-pre-line leading-relaxed",children:k},"full"):e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-gray-700 line-clamp-3",children:[k.split(`
`).slice(0,3).join(`
`),"..."]},"preview")})]})]})]}),e.jsx("div",{className:"flex-1 flex items-end justify-center pb-6 pt-4",children:e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"px-6 py-3 bg-gray-800 text-white rounded-full text-sm font-medium shadow-lg",children:"æŸ¥çœ‹å®Œæ•´æ—¥æ›†"})}),e.jsx(it,{isOpen:d.isOpen,onClose:q,imageSrc:d.src,imageAlt:d.alt,title:d.title,subtitle:d.subtitle})]})}function ct({calendarDays:s,selectedDate:t,monthSolarTerms:c,onSelectDate:n,onPrevMonth:r,onNextMonth:i,onGoToToday:j}){const l=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],d=t.toLocaleDateString("zh-TW",{year:"numeric",month:"long"}),y={æ˜¥:{bg:"bg-green-50",dot:"bg-green-500",text:"text-green-700"},å¤:{bg:"bg-red-50",dot:"bg-red-500",text:"text-red-700"},ç§‹:{bg:"bg-orange-50",dot:"bg-orange-500",text:"text-orange-700"},å†¬:{bg:"bg-blue-50",dot:"bg-blue-500",text:"text-blue-700"}};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(u.button,{whileTap:{scale:.95},onClick:r,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(Be,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-serif font-bold text-gray-800",children:d}),c.length>0&&e.jsx("div",{className:"flex items-center justify-center gap-2 mt-1",children:c.map(o=>{var m,x;return e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${(m=y[o.season])==null?void 0:m.bg} ${(x=y[o.season])==null?void 0:x.text}`,children:[o.name," (",new Date(o.date).getDate(),"æ—¥)"]},o.name)})})]}),e.jsx(u.button,{whileTap:{scale:.95},onClick:i,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(qe,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(u.button,{whileTap:{scale:.95},onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-full text-sm",children:[e.jsx(G,{className:"w-4 h-4"}),"ä»Šå¤©"]})}),e.jsx("div",{className:"grid grid-cols-7 mb-2",children:l.map((o,m)=>e.jsx("div",{className:`text-center text-sm font-medium py-2 ${m===0?"text-red-400":m===6?"text-blue-400":"text-gray-500"}`,children:o},o))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:s.map((o,m)=>{var g;const x=((g=o.solarTerm)==null?void 0:g.season)||"æ˜¥",p=y[x]||y.æ˜¥,a=m%7===0||m%7===6;return e.jsxs(u.button,{whileTap:{scale:.9},onClick:()=>n(o.date),className:`
                relative aspect-square rounded-xl flex flex-col items-center justify-center
                transition-all duration-200
                ${o.isCurrentMonth?"":"opacity-30"}
                ${o.isSelected?`${p.bg} ring-2 ring-offset-1`:"hover:bg-gray-50"}
                ${o.isToday?"ring-2 ring-gray-300":""}
              `,style:o.isSelected?{ringColor:p.dot.replace("bg-","#").replace("-500","")}:{},children:[e.jsx("span",{className:`
                text-sm font-medium
                ${o.isSelected?p.text:""}
                ${!o.isSelected&&a?m%7===0?"text-red-400":"text-blue-400":""}
                ${!o.isSelected&&!a?"text-gray-700":""}
              `,children:o.date.getDate()}),(()=>{var v;return c.some(k=>new Date(k.date).getDate()===o.date.getDate()&&o.isCurrentMonth)?e.jsx("div",{className:"w-1.5 h-1.5 rounded-full mt-0.5 bg-yellow-400",title:"ç¯€æ°£"}):e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-0.5 ${p.dot}`,title:((v=o.herb)==null?void 0:v.name)||""})})()]},m)})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-3",children:"å­£ç¯€é¡è‰²"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[Object.entries(y).map(([o,m])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${m.dot}`}),e.jsx("span",{className:"text-sm text-gray-600",children:o})]},o)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ç¯€æ°£"})]})]})]})]})}function dt({herbsDatabase:s,onSelectHerb:t}){const[c,n]=h.useState(""),[r,i]=h.useState("å…¨éƒ¨"),{stats:j,toggleFavoriteHerb:l,isFavorite:d}=Q(),y={å…¨éƒ¨:()=>!0,æ”¶è—:a=>{var g;return(g=j.favoriteHerbs)==null?void 0:g.includes(a.name)},è£œæ°£:a=>a.effect.includes("è£œæ°£")||a.effect.includes("ç›Šæ°£"),è£œè¡€:a=>a.effect.includes("è£œè¡€")||a.effect.includes("é¤Šè¡€"),å®‰ç¥:a=>a.effect.includes("å®‰ç¥")||a.effect.includes("å¯§å¿ƒ"),æ´»è¡€:a=>a.effect.includes("æ´»è¡€")||a.effect.includes("åŒ–ç˜€"),æ¸…ç†±:a=>a.effect.includes("æ¸…ç†±")||a.effect.includes("åˆ©æ¿•"),å…¶ä»–:a=>!["è£œæ°£","ç›Šæ°£","è£œè¡€","é¤Šè¡€","å®‰ç¥","å¯§å¿ƒ","æ´»è¡€","åŒ–ç˜€","æ¸…ç†±","åˆ©æ¿•"].some(b=>a.effect.includes(b))},o=h.useMemo(()=>s.filter(a=>{const g=a.name.includes(c)||a.effect.includes(c),b=y[r](a);return g&&b}),[s,c,r,j.favoriteHerbs]),m={å…¨éƒ¨:"bg-gray-100 text-gray-700",æ”¶è—:"bg-red-100 text-red-700",è£œæ°£:"bg-yellow-100 text-yellow-700",è£œè¡€:"bg-red-100 text-red-700",å®‰ç¥:"bg-purple-100 text-purple-700",æ´»è¡€:"bg-pink-100 text-pink-700",æ¸…ç†±:"bg-blue-100 text-blue-700",å…¶ä»–:"bg-gray-100 text-gray-600"},x=a=>a.effect.includes("è£œæ°£")||a.effect.includes("ç›Šæ°£")?"from-yellow-50 to-amber-100":a.effect.includes("è£œè¡€")||a.effect.includes("é¤Šè¡€")?"from-red-50 to-rose-100":a.effect.includes("å®‰ç¥")||a.effect.includes("å¯§å¿ƒ")?"from-purple-50 to-violet-100":a.effect.includes("æ´»è¡€")||a.effect.includes("åŒ–ç˜€")?"from-pink-50 to-rose-100":a.effect.includes("æ¸…ç†±")||a.effect.includes("åˆ©æ¿•")?"from-blue-50 to-cyan-100":"from-gray-50 to-slate-100",p=a=>ye[a]||null;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-4 py-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-1",children:"è—¥æåœ–é‘‘"}),e.jsx("p",{className:"text-sm text-gray-500",children:"56ç¨®å‚³çµ±ä¸­è—¥æ"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"æœå°‹è—¥æåç¨±æˆ–åŠŸæ•ˆ...",value:c,onChange:a=>n(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 mb-4 scrollbar-hide",children:Object.keys(y).map(a=>e.jsx(u.button,{whileTap:{scale:.95},onClick:()=>i(a),className:`
              px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all
              ${r===a?m[a]+" ring-2 ring-offset-1":"bg-gray-50 text-gray-500 hover:bg-gray-100"}
            `,children:a},a))}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["é¡¯ç¤º ",o.length," ç¨®è—¥æ"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((a,g)=>{const b=p(a.name),v=d(a.name);return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.02},whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                relative p-4 rounded-xl bg-gradient-to-br ${x(a)}
                text-left shadow-sm hover:shadow-md transition-shadow cursor-pointer
              `,onClick:()=>t&&t(a),children:[e.jsx("button",{onClick:k=>{k.stopPropagation(),l(a.name)},className:`absolute top-2 right-2 w-7 h-7 rounded-full flex items-center justify-center transition-colors ${v?"bg-red-100 hover:bg-red-200":"bg-white/60 hover:bg-white/80"}`,children:e.jsx(K,{className:`w-4 h-4 ${v?"text-red-500 fill-red-500":"text-gray-400"}`})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/50 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:b?e.jsx("img",{src:b,alt:a.name,className:"w-10 h-10 object-contain",onError:k=>{k.target.style.display="none"}}):e.jsx("span",{className:"text-2xl",children:"ğŸŒ¿"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-serif font-bold text-gray-800 text-lg truncate pr-6",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:a.effect})]})]})]},a.id)})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ğŸ”"}),e.jsx("p",{className:"text-gray-500",children:"æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„è—¥æ"}),e.jsx("button",{onClick:()=>{n(""),i("å…¨éƒ¨")},className:"mt-4 text-sm text-gray-600 underline",children:"æ¸…é™¤ç¯©é¸æ¢ä»¶"})]})]})}function mt({herbsDatabase:s}){const{stats:t,resetStats:c}=Q(),n=[{label:"é€£çºŒå¤©æ•¸",value:t.currentStreak,icon:Ye,color:"text-orange-500",bgColor:"bg-orange-50",suffix:"å¤©"},{label:"ç´¯è¨ˆå†¥æƒ³",value:t.totalMeditations,icon:G,color:"text-blue-500",bgColor:"bg-blue-50",suffix:"æ¬¡"},{label:"ç¸½æ™‚é•·",value:t.totalMinutes,icon:Ve,color:"text-purple-500",bgColor:"bg-purple-50",suffix:"åˆ†é˜"},{label:"æ”¶é›†è—¥æ",value:t.collectedHerbs.length,icon:J,color:"text-green-500",bgColor:"bg-green-50",suffix:`/${(s==null?void 0:s.length)||56}`}],r=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],i=s?Math.round(t.collectedHerbs.length/s.length*100):0,j=()=>{window.confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰çµ±è¨ˆæ•¸æ“šå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚")&&c()};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-4 py-6 pb-24",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-1",children:"æˆ‘çš„æ—…ç¨‹"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.firstUseDate?`é–‹å§‹æ–¼ ${t.firstUseDate}`:"é–‹å§‹ä½ çš„æ­£å¿µä¹‹æ—…"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:n.map((l,d)=>e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:d*.1},className:`${l.bgColor} rounded-2xl p-4 shadow-sm`,children:[e.jsx(l.icon,{className:`w-6 h-6 ${l.color} mb-2`}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-800",children:l.value}),e.jsx("span",{className:"text-sm text-gray-500",children:l.suffix})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.label})]},l.label))}),t.longestStreak>0&&e.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 mb-6 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"æœ€é•·é€£çºŒç´€éŒ„"}),e.jsxs("p",{className:"text-xl font-bold text-amber-600",children:[t.longestStreak," å¤©"]})]})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-5 shadow-sm mb-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4 text-blue-500"}),"æœ¬é€±æ´»å‹•"]}),e.jsx("div",{className:"flex justify-between items-end h-24",children:t.weeklyActivity.map((l,d)=>{const y=Math.max(...t.weeklyActivity,1),o=l>0?Math.max(l/y*100,20):8,m=new Date().getDay()===d;return e.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[e.jsx(u.div,{initial:{height:0},animate:{height:`${o}%`},transition:{delay:.5+d*.05,duration:.3},className:`w-6 rounded-full ${l>0?m?"bg-blue-500":"bg-blue-300":"bg-gray-100"}`}),e.jsx("span",{className:`text-xs ${m?"font-bold text-blue-600":"text-gray-400"}`,children:r[d]})]},d)})})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-5 shadow-sm mb-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-green-500"}),"è—¥ææ”¶é›†é€²åº¦"]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"å·²æ”¶é›†"}),e.jsxs("span",{className:"font-medium text-green-600",children:[i,"%"]})]}),e.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${i}%`},transition:{delay:.6,duration:.5},className:"h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"})})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[t.collectedHerbs.length," / ",(s==null?void 0:s.length)||56," ç¨®è—¥æ"]})]}),t.totalMeditations===0&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ§˜"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"é–‹å§‹ä½ çš„æ­£å¿µä¹‹æ—…"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å›åˆ°ã€Œä»Šæ—¥ã€é é¢ï¼Œé»æ“Šæ’­æ”¾æŒ‰éˆ•é–‹å§‹ç¬¬ä¸€æ¬¡å†¥æƒ³ï¼Œ ä½ çš„é€²åº¦å°‡æœƒåœ¨é€™è£¡é¡¯ç¤ºã€‚"})]}),t.totalMeditations>0&&e.jsxs(u.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},onClick:j,className:"w-full py-3 text-sm text-gray-400 hover:text-red-500 transition-colors flex items-center justify-center gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),"é‡ç½®çµ±è¨ˆæ•¸æ“š"]}),e.jsx("div",{className:"text-center mt-6 text-xs text-gray-300",children:e.jsx("p",{children:"ä¸­è—¥æ­£å¿µæ—¥æ›† v1.0.0"})})]})}function ht({activeTab:s,onTabChange:t,seasonColor:c}){const n=[{id:"today",icon:at,label:"ä»Šæ—¥"},{id:"calendar",icon:G,label:"æ—¥æ›†"},{id:"herbs",icon:J,label:"è—¥æ"},{id:"stats",icon:we,label:"æ—…ç¨‹"}];return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 safe-area-bottom shadow-lg",children:e.jsx("div",{className:"container mx-auto px-2",children:e.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(r=>{const i=s===r.id,j=r.icon;return e.jsxs(u.button,{whileTap:{scale:.95},onClick:()=>t(r.id),className:"relative flex flex-col items-center min-w-[60px] py-1 px-3 rounded-xl transition-all",children:[i&&e.jsx(u.div,{layoutId:"activeTabBg",className:"absolute inset-0 bg-sage-50 rounded-xl",transition:{type:"spring",bounce:.2,duration:.6}}),e.jsx("div",{className:"relative z-10",children:e.jsx(j,{size:24,strokeWidth:i?2.5:2,className:`transition-all duration-300 ${i?"text-sage-600":"text-gray-400"}`})}),e.jsx("span",{className:`relative z-10 text-xs mt-1 font-medium transition-all duration-300 ${i?"text-sage-600":"text-gray-400"}`,children:r.label})]},r.id)})})})})}function xt(){const[s,t]=h.useState("today"),c=new Date(2026,0,1),n=Ie(c),{todayInfo:r,calendarDays:i,monthSolarTerms:j,herbsDatabase:l,solarTerms:d}=n,y={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}},o=()=>{switch(s){case"today":return e.jsx(lt,{todayInfo:r,onOpenCalendar:()=>t("calendar")});case"calendar":return e.jsx(ct,{calendarDays:i,selectedDate:n.selectedDate,monthSolarTerms:j,onSelectDate:m=>{n.selectDate(m),t("today")},onPrevMonth:n.goToPrevMonth,onNextMonth:n.goToNextMonth,onGoToToday:n.goToToday});case"herbs":return e.jsx(dt,{herbsDatabase:l,onSelectHerb:m=>{const x=l.findIndex(a=>a.id===m.id),p=new Date(2026,0,x+1);n.selectDate(p),t("today")}});case"stats":return e.jsx(mt,{solarTerms:d,herbsDatabase:l});default:return null}};return e.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${r.seasonColor.bg}`,children:[e.jsx(He,{season:r.solarTerm.season,solarTerm:r.solarTerm}),e.jsx("main",{className:"pb-20",children:e.jsx(D,{mode:"wait",children:e.jsx(u.div,{variants:y,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.2},children:o()},s)})}),e.jsx(ht,{activeTab:s,onTabChange:t,seasonColor:r.seasonColor})]})}Z.createRoot(document.getElementById("root")).render(e.jsx(_e.StrictMode,{children:e.jsx(xt,{})}));
